{% load staticfiles %}
<html ng-app="tasks">
<head>
   <link rel="stylesheet" href="{% static "css/bootstrap.min.css" %}">
   <link rel="stylesheet" href="{% static "css/site.css" %}">
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.13/angular.min.js">
      </script>
   <script src="{% static "js/ui-bootstrap-custom-tpls-0.13.0.js" %}"></script>
   <script src="{% static "js/bootstrap.min.js" %}"></script>
   <script src="{% static "js/app.js" %}"></script>
</head>
<body>
<div class="container">
   <div class="jumbotron">
      <h1>Task Tracker</h1>
      <div class="btn btn-primary btn-lg" data-toggle="modal"
         data-target="#addtaskmodal">Add New Task</div>
   </div>

{% verbatim %}
   <div id="taskspace" ng-controller="TaskController as tc">
      <div class="row">
         <div class="col-md-4 col-sm-6" ng-repeat="task in tc.tasks">
            <div class="well well-sm {{getType(task.progress, task.weeklyfreq)}}-well">
               <h3>{{ task.name }}</h3>
               <p>{{ task.description }}</p>
               <button class="btn btn-success incbtn" 
                  ng-click="incTask(task)">Done</button>
               <button class="btn btn-warning resetbtn" 
                  ng-click="resetTask(task)">Reset</button>
               <button class="btn btn-danger deletebtn">Delete Task</button>
               <p></p>
               <progressbar class="progress-striped active" value="task.progress"
                  max="task.weeklyfreq" type="{{getType(task.progress, task.weeklyfreq)}}">
                  <i>{{(task.progress / task.weeklyfreq) * 100}}%</i>
               </progressbar>
            </div>
         </div>
      </div>
   </div>
{% endverbatim %}

   <div class="modal fade" id="addtaskmodal" tabindex="-1" role="dialog"
      aria-labelledby="addtasklabel" aria-hidden="true">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span></button>
               <h4 class="addtasklabel">Add New Task</h4>
            </div>
            <div class="modal-body">
               <form role="form" method="get"
                  ng-submit="addTask()" ng-controller="TaskController">
                  <div class="form-group">
                     <label for="taskname">Task Name</label>
                     <input type="text" class="form-control" id="taskname" name="taskname">
                  </div>
                  <div class="form-group">
                     <label for="taskdesc">Task Description</label>
                     <input type="text" class="form-control" id="taskdesc" name="taskdesc">
                  </div>
                  <div class="form-group">
                     <label for="taskfreq">
                        Target weekly frequency: 
                        <output name="freq" for="taskfreq">0</output>
                     </label>
                     <input type="range" value="0" min="0" max="10" id="taskfreq"
                        name="taskfreq">
                  </div>
                  <input type="submit" class="btn btn-default addtaskbtn"
                     data-dismiss="modal">Submit</button>
               </form>
            </div>
         </div>
      </div>
   </div>
</div>
</body>
</html>
